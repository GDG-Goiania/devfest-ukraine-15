<dom-module id="mailchimp-subscribe">
  <style media="screen">
    paper-button.colorful {
      color: #fff;
    }

    paper-input-container {
      --paper-input-container-color: #fff;
      --paper-input-container-focus-color: #fff;
      --paper-input-container-input-color: #fff;
    }

    .mc_embed_signup {
      width: 100%;
    }

    .note-text {
      text-align: center;
      margin-top: 15px;
      font-size: .8em;
    }
  </style>
  <template>
    <div id="mc_embed_signup" class="mc_embed_signup layout vertical center-center">
      <form action="{{ url }}" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
        <div class="mc-field-group layout vertical">
          <paper-input-container class="text-left">
            <label>Your email</label>
            <input is="iron-input" type="email" name="EMAIL" id="mce-EMAIL" autocomplete="off">
            <paper-input-error>Plese enter valid email address</paper-input-error>
          </paper-input-container>
          <paper-button class="colorful self-end" on-click="submitForm">Submit</paper-button>
          <span class="note-text">Registration will be open around end of August. Number of tickets are limited. Stay tuned!</span>
        </div>
        <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups -->
        <div style="position: absolute; left: -5000px;">
          <input type="text" name="{{ name }}" tabindex="-1">
        </div>
        <div class="mc-submit-group">
          <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" style="display:none">
        </div>
      </form>
    </div>
  </template>
  <script>
    (function() {
      Polymer({
        is: 'mailchimp-subscribe',

        properties: {
          url: String,
          name: String
        },
        submitForm: function() {
          document.getElementById('mc-embedded-subscribe-form').submit();
        }
      });
    })();
  </script>
</dom-module>
